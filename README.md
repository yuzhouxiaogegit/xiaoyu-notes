# ğŸ“ å°å®‡ç¬”è®°

> å®‰å…¨åŠ å¯†ç¬”è®°ç®¡ç†ç³»ç»Ÿï¼ŒåŸºäº Cloudflare å…¨æ ˆæŠ€æœ¯æ„å»º

[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![Cloudflare Pages](https://img.shields.io/badge/Cloudflare-Pages-orange)](https://pages.cloudflare.com/)
[![PWA Ready](https://img.shields.io/badge/PWA-Ready-green)](https://web.dev/progressive-web-apps/)

## âœ¨ ç‰¹æ€§

### ğŸ”’ å®‰å…¨åŠ å¯†

- **æœåŠ¡ç«¯åŠ å¯†å­˜å‚¨**ï¼šæ‰€æœ‰ç¬”è®°å†…å®¹åœ¨æœåŠ¡ç«¯åŠ å¯†å­˜å‚¨
- **åˆ†äº«æ—¶ç”¨æˆ·è‡ªå®šä¹‰åŠ å¯†**ï¼šåˆ†äº«é“¾æ¥æ”¯æŒç”¨æˆ·è®¾ç½®ç‹¬ç«‹å¯†ç 
- **æ•°æ®ä¼ è¾“æ··æ·†**ï¼šAPI ä¼ è¾“è¿‡ç¨‹ä¸­ä½¿ç”¨åŠ¨æ€æ··æ·†ç®—æ³•
- **ä¼šè¯å®‰å…¨**ï¼šç™»å½•çŠ¶æ€å’Œç®¡ç†å¯†é’¥å®‰å…¨ç®¡ç†

### ğŸ·ï¸ åˆ†ç±»ç®¡ç†

- **è‡ªå®šä¹‰åˆ†ç±»**ï¼šæ”¯æŒåˆ›å»ºã€ç¼–è¾‘ã€åˆ é™¤åˆ†ç±»
- **æ™ºèƒ½ç»Ÿè®¡**ï¼šå®æ—¶æ˜¾ç¤ºæ¯ä¸ªåˆ†ç±»ä¸‹çš„ç¬”è®°æ•°é‡
- **åˆ†ç±»ç­›é€‰**ï¼šå¿«é€ŸæŒ‰åˆ†ç±»æµè§ˆç¬”è®°

### ğŸ”¥ é˜…åå³ç„š

- **è®¿é—®æ¬¡æ•°é™åˆ¶**ï¼šæ”¯æŒè®¾ç½® 1æ¬¡ã€3æ¬¡ã€5æ¬¡ã€10æ¬¡æˆ–è‡ªå®šä¹‰æ¬¡æ•°
- **è‡ªåŠ¨é”€æ¯**ï¼šè¾¾åˆ°è®¿é—®é™åˆ¶åè‡ªåŠ¨åˆ é™¤åˆ†äº«å†…å®¹
- **å¯†ç ä¿æŠ¤**ï¼šåˆ†äº«é“¾æ¥æ”¯æŒç‹¬ç«‹å¯†ç ä¿æŠ¤

### ğŸ“± ç°ä»£åŒ–ä½“éªŒ

- **PWA æ”¯æŒ**ï¼šå¯å®‰è£…åˆ°æ¡Œé¢ï¼Œæ”¯æŒç¦»çº¿ä½¿ç”¨
- **å“åº”å¼è®¾è®¡**ï¼šå®Œç¾é€‚é…æ‰‹æœºã€å¹³æ¿ã€æ¡Œé¢è®¾å¤‡
- **æš—è‰²ä¸»é¢˜**ï¼šæŠ¤çœ¼çš„æ·±è‰²ç•Œé¢è®¾è®¡
- **å®æ—¶å­—æ•°ç»Ÿè®¡**ï¼šå†™ä½œæ—¶å®æ—¶æ˜¾ç¤ºå­—æ•°å’Œè¿›åº¦

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Node.js 18+
- Cloudflare è´¦æˆ·
- Wrangler CLI

### æœ¬åœ°å¼€å‘

1. **å…‹éš†é¡¹ç›®**

   ```bash
   git clone https://github.com/yuzhouxiaogegit/xiaoyu-notes.git
   cd xiaoyu-notes
   ```

2. **å®‰è£…ä¾èµ–**

   ```bash
   npm install
   ```

3. **é…ç½®ç¯å¢ƒå˜é‡**

   åˆ›å»º `.dev.vars` æ–‡ä»¶ï¼š

   ```bash
   # ç™»å½•å‡­æ®
   LOGIN_USERNAME=admin
   LOGIN_PASSWORD=your-secure-password

   # ç®¡ç†å¯†é’¥
   ADMIN_KEY=your-admin-key
   ```

4. **å¯åŠ¨å¼€å‘æœåŠ¡å™¨**

   ```bash
   npm run dev
   ```

5. **è®¿é—®åº”ç”¨**

   æ‰“å¼€ http://localhost:8788

### éƒ¨ç½²åˆ° Cloudflare Pages

1. **åˆ›å»º D1 æ•°æ®åº“**

   ```bash
   wrangler d1 create xiaoyu-notes-db
   ```

2. **æ›´æ–° wrangler.toml**

   å°†ç”Ÿæˆçš„æ•°æ®åº“ ID å¡«å…¥ `wrangler.toml`ï¼š

   ```toml
   [[d1_databases]]
   binding = "DB"
   database_name = "xiaoyu-notes-db"
   database_id = "your-database-id"
   ```

3. **æ‰§è¡Œæ•°æ®åº“è¿ç§»**

   ```bash
   wrangler d1 execute xiaoyu-notes-db --file=./schema.sql
   ```

4. **éƒ¨ç½²åº”ç”¨**

   ```bash
   npm run deploy
   ```

5. **é…ç½®ç¯å¢ƒå˜é‡**

   åœ¨ Cloudflare Pages æ§åˆ¶å°ä¸­è®¾ç½®ï¼š
   - `LOGIN_USERNAME`: ç™»å½•ç”¨æˆ·å
   - `LOGIN_PASSWORD`: ç™»å½•å¯†ç 
   - `ADMIN_KEY`: ç®¡ç†å‘˜å¯†é’¥

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„

### å‰ç«¯æŠ€æœ¯æ ˆ

- **åŸç”Ÿ JavaScript**ï¼šæ— æ¡†æ¶ä¾èµ–ï¼Œè½»é‡é«˜æ•ˆ
- **Tailwind CSS CDN**ï¼šç°ä»£åŒ– UI è®¾è®¡
- **PWA**ï¼šæ”¯æŒç¦»çº¿ä½¿ç”¨å’Œæ¡Œé¢å®‰è£…
- **æ¨¡å—åŒ–æ¶æ„**ï¼šä»£ç åˆ†ç¦»ï¼ŒæŒ‰éœ€åŠ è½½

### åç«¯æŠ€æœ¯æ ˆ

- **Cloudflare Pages Functions**ï¼šæ— æœåŠ¡å™¨å‡½æ•°
- **Cloudflare D1**ï¼šSQLite æ•°æ®åº“
- **Cloudflare Workers AI**ï¼šAI åŠŸèƒ½æ”¯æŒ
- **æ•°æ®æ··æ·†**ï¼šè‡ªå®šä¹‰ä¼ è¾“å®‰å…¨æœºåˆ¶

### å®‰å…¨æœºåˆ¶

- **AES-GCM 256-bit åŠ å¯†**ï¼šå®¢æˆ·ç«¯åŠ å¯†ç®—æ³•
- **PBKDF2 å¯†é’¥æ´¾ç”Ÿ**ï¼šå®‰å…¨çš„å¯†é’¥ç”Ÿæˆ
- **åŠ¨æ€æ•°æ®æ··æ·†**ï¼šä¼ è¾“è¿‡ç¨‹å®‰å…¨ä¿æŠ¤
- **æ—¶é—´çª—å£éªŒè¯**ï¼šé˜²æ­¢é‡æ”¾æ”»å‡»

## ğŸ“ é¡¹ç›®ç»“æ„

```
xiaoyu-notes/
â”œâ”€â”€ public/                 # å‰ç«¯é™æ€æ–‡ä»¶
â”‚   â”œâ”€â”€ assets/
â”‚   â”‚   â”œâ”€â”€ css/           # æ ·å¼æ–‡ä»¶
â”‚   â”‚   â””â”€â”€ js/            # JavaScript æ¨¡å—
â”‚   â”‚       â”œâ”€â”€ core/      # æ ¸å¿ƒæ¡†æ¶
â”‚   â”‚       â”œâ”€â”€ api.js     # API æ¥å£
â”‚   â”‚       â”œâ”€â”€ auth.js    # è®¤è¯æ¨¡å—
â”‚   â”‚       â”œâ”€â”€ notes.js   # ç¬”è®°ç®¡ç†
â”‚   â”‚       â”œâ”€â”€ share.js   # åˆ†äº«åŠŸèƒ½
â”‚   â”‚       â””â”€â”€ ...        # å…¶ä»–æ¨¡å—
â”‚   â”œâ”€â”€ index.html         # ä¸»é¡µé¢
â”‚   â”œâ”€â”€ manifest.json      # PWA é…ç½®
â”‚   â””â”€â”€ sw.js             # Service Worker
â”œâ”€â”€ functions/             # åç«¯å‡½æ•°
â”‚   â”œâ”€â”€ api/              # API å¤„ç†å™¨
â”‚   â”œâ”€â”€ core/             # æ ¸å¿ƒåŸºç±»
â”‚   â”œâ”€â”€ handlers/         # ä¸šåŠ¡å¤„ç†å™¨
â”‚   â”œâ”€â”€ utils/            # å·¥å…·å‡½æ•°
â”‚   â””â”€â”€ _middleware.js    # ä¸­é—´ä»¶
â”œâ”€â”€ wrangler.toml         # Cloudflare é…ç½®
â”œâ”€â”€ package.json          # é¡¹ç›®é…ç½®
â””â”€â”€ README.md            # é¡¹ç›®æ–‡æ¡£
```

## ğŸ”§ é…ç½®è¯´æ˜

### ç¯å¢ƒå˜é‡

| å˜é‡å           | è¯´æ˜       | ç¤ºä¾‹å€¼                 |
| ---------------- | ---------- | ---------------------- |
| `LOGIN_USERNAME` | ç™»å½•ç”¨æˆ·å | `admin`                |
| `LOGIN_PASSWORD` | ç™»å½•å¯†ç    | `your-secure-password` |
| `ADMIN_KEY`      | ç®¡ç†å‘˜å¯†é’¥ | `your-admin-key-here`  |

### æ•°æ®åº“é…ç½®

é¡¹ç›®ä½¿ç”¨ Cloudflare D1 æ•°æ®åº“ï¼Œè¡¨ç»“æ„åŒ…æ‹¬ï¼š

- `notes` - ç¬”è®°å†…å®¹è¡¨
- `categories` - åˆ†ç±»ç®¡ç†è¡¨
- `shares` - åˆ†äº«é“¾æ¥è¡¨

## ğŸ›¡ï¸ å®‰å…¨ç‰¹æ€§

### æ•°æ®åŠ å¯†

- ç¬”è®°å†…å®¹åœ¨æœåŠ¡ç«¯ä½¿ç”¨æœåŠ¡å™¨å¯†é’¥åŠ å¯†å­˜å‚¨
- åˆ†äº«åŠŸèƒ½æ”¯æŒç”¨æˆ·è‡ªå®šä¹‰å¯†ç çš„é¢å¤–åŠ å¯†å±‚
- æ‰€æœ‰æ•æ„Ÿæ•°æ®ä¼ è¾“è¿‡ç¨‹ä¸­è¿›è¡ŒåŠ¨æ€æ··æ·†

### è®¿é—®æ§åˆ¶

- åŸºäºä¼šè¯çš„èº«ä»½éªŒè¯
- ç®¡ç†å‘˜å¯†é’¥éªŒè¯
- é˜²é‡æ”¾æ”»å‡»æœºåˆ¶

### éšç§ä¿æŠ¤

- æœ¬åœ°å¼€å‘ç¯å¢ƒä½¿ç”¨æ¨¡æ‹Ÿæ•°æ®
- ç”Ÿäº§ç¯å¢ƒæ•°æ®å®Œå…¨éš”ç¦»
- æ”¯æŒæ•°æ®å®Œå…¨åˆ é™¤

## ğŸ“± PWA åŠŸèƒ½

- **ç¦»çº¿æ”¯æŒ**ï¼šç¼“å­˜å…³é”®èµ„æºï¼Œæ”¯æŒç¦»çº¿æµè§ˆ
- **æ¡Œé¢å®‰è£…**ï¼šå¯å®‰è£…ä¸ºæ¡Œé¢åº”ç”¨
- **æ¨é€é€šçŸ¥**ï¼šæ”¯æŒé‡è¦æé†’ï¼ˆå¯é€‰ï¼‰
- **è‡ªåŠ¨æ›´æ–°**ï¼šService Worker è‡ªåŠ¨æ›´æ–°æœºåˆ¶

## ğŸ¤ è´¡çŒ®æŒ‡å—

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. å¼€å¯ Pull Request

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…

## ğŸ‘¤ ä½œè€…

**å®‡å®™å°å“¥**

- GitHub: [@yuzhouxiaogegit](https://github.com/yuzhouxiaogegit)
- é¡¹ç›®é“¾æ¥: [https://github.com/yuzhouxiaogegit/xiaoyu-notes](https://github.com/yuzhouxiaogegit/xiaoyu-notes)

## ğŸ™ è‡´è°¢

- [Cloudflare](https://cloudflare.com/) - æä¾›å¼ºå¤§çš„è¾¹ç¼˜è®¡ç®—å¹³å°
- [Tailwind CSS](https://tailwindcss.com/) - ç°ä»£åŒ–çš„ CSS æ¡†æ¶
- æ‰€æœ‰è´¡çŒ®è€…å’Œç”¨æˆ·çš„æ”¯æŒ

---

â­ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™å®ƒä¸€ä¸ªæ˜Ÿæ ‡ï¼
